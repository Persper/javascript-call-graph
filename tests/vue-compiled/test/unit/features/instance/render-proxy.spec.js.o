'use strict';

var _vue = require('vue');

var _vue2 = _interopRequireDefault(_vue);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

if (typeof Proxy !== 'undefined') {
  describe('render proxy', function () {
    it('should warn missing property in render fns with `with`', function () {
      new _vue2.default({
        template: '<div>{{ a }}</div>'
      }).$mount();
      expect('Property or method "a" is not defined').toHaveBeenWarned();
    });

    it('should warn missing property in render fns without `with`', function () {
      var render = function render(h) {
        return h('div', [this.a]);
      };
      render._withStripped = true;
      new _vue2.default({
        render: render
      }).$mount();
      expect('Property or method "a" is not defined').toHaveBeenWarned();
    });

    it('should not warn for hand-written render functions', function () {
      new _vue2.default({
        render: function render(h) {
          return h('div', [this.a]);
        }
      }).$mount();
      expect('Property or method "a" is not defined').not.toHaveBeenWarned();
    });
  });
}

