'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.preTransformVBind = preTransformVBind;

var _util = require('shared/util');

var _parser = require('weex/util/parser');

var _index = require('compiler/parser/index');

var _helpers = require('compiler/helpers');

function parseAttrName(name) {
  return (0, _util.camelize)(name.replace(_index.bindRE, ''));
}

function preTransformVBind(el, options) {
  for (var attr in el.attrsMap) {
    if (_index.bindRE.test(attr)) {
      var name = parseAttrName(attr);
      var value = (0, _parser.generateBinding)((0, _helpers.getAndRemoveAttr)(el, attr));
      delete el.attrsMap[attr];
      (0, _helpers.addRawAttr)(el, name, value);
    }
  }
}

